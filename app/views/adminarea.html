<!-- AdminArea -->
<div ng-controller="AdminAreaCtrl">
	<div class="extended-wrap">
		
		<div class="admin-bar">
			<span ng-show="user.firstName">Hello, <strong>{{user.firstName}}</strong></span>
			<span ng-hide="user.firstName">Hello, <strong>{{user.email}}</strong></span>
			<span ng-show="user.planType == 'entry'"> | <strong>Entry Plan</strong></span>
			<span ng-show="user.planType == 'standard'"> | <strong>Standard Plan</strong></span>
			<span ng-show="user.planType == 'deluxe'"> | <strong>Deluxe Plan</strong></span>
			<span> | <a ng-click="logout()">Logout</a></span>
		</div>
		<!-- The container is a centered 960px -->
		<div class="container content-wrap">
			<div class="sixteen columns">
				<div class="row">
					<div class="three columns alpha" style="margin-right: 0;">
						&nbsp;
					</div>
					<!-- logo -->
					<div class="thirteen columns omega logo">
						<div class="logo-container">
					        <a href="/" style="text-decoration: none;">
					            <img id="logo-icon" src="img/logo-icon.svg" alt="">
					            <img id="logo" src="img/logo.svg" alt="">
					        </a>
						</div>
					</div>
				</div>
			</div>
			<!-- Give column value in word form (one, two..., twelve) -->
			<div class="sixteen columns">
				<div class="row">
					<div style="text-align:center;">
						<div class="alpha main-nav">
		              		<a class="main-nav-item" ng-class="{active: adminView.state=='questions'}" ng-click="adminViewState('questions')">Control Center</a>
		              		<a class="main-nav-item" ng-class="{active: adminView.state=='setup'}" ng-click="adminViewState('setup')">Get Started</a>
		              		<a class="main-nav-item" ng-class="{active: adminView.state=='settings'}" ng-click="adminViewState('settings')">Settings</a>
		              		<a class="main-nav-item" ng-class="{active: adminView.state=='pricing', important: user.nearPlanLimit, priority: user.overPlanLimit}" ng-click="adminViewState('pricing')">Upgrade!</a>
						</div>
					</div>
					
					<div ng-show="adminView.state=='pricing'" style="height: 0;">
						<div class="container" style="height: 0;">
							<div class="card-wrap info-wrap thirteen columns settings2">
								<h1 style="text-align: center; color: #2ecc71;">A plan that's all yours!</h1>
					        	<div class="pricing pricing-border">
									<div ng-show="user.planType =='entry'" style="height: 300.875px; margin-bottom: -20px;">
					        			<h1 style="color: #3dcad7 !important; font-weight: lighter;">Entry</h1>
					        			<br><br>
					        			<h3 style="font-weight: normal;">You have this plan!</h3>
					        		</div>
					        		<div ng-hide="user.planType =='entry'">
						        		<h1 style="color: #3dcad7 !important; font-weight: lighter;">Entry</h1>
						        		<p>Most Affordable!</p>
						        		<br>
						        		<h1 style="font-weight: normal;">$9</h1>
						        		<p>per month</p>
						        		<br>
						        		<p><strong>2,500</strong> Responses Monthly</p>
						        		<br>
						        		<!-- <p style="text-decoration: underline;">Question Analytics Included</p> -->
						        		<br><br>
						        		<a href="/#/order/entry" style="" class="order buy-btn">Let's Rock</a>
					        		</div>
					        	</div>
					        	<div class="pricing pricing-border">
					        		<div ng-show="user.planType =='standard'" style="height: 300.875px; margin-bottom: -20px;">
					        			<h1 style="color: #3dcad7 !important; font-weight: lighter;">Standard</h1>
					        			<br><br>
					        			<h3 style="font-weight: normal;">You have this plan!</h3>
					        		</div>
					        		<div ng-hide="user.planType =='standard'">
					        			<h1 style="color: #3dcad7 !important; font-weight: lighter;">Standard</h1>
						        		<p>Triple the Responses!</p>
						        		<br>
						        		<h1 style="font-weight: normal;">$19</h1>
						        		<p>per month</p>
						        		<br>
						        		<p><strong>7,500</strong> Responses Monthly</p>
						        		<br>
						        		<!-- <p style="text-decoration: underline;">Question Analytics Included</p> -->
						        		<br><br>
						        		<a href="/#/order/standard" style="" class="order buy-btn">Time to Roll</a>
					        		</div>
					        	</div>
					        	<div class="pricing">
					        		<div ng-show="user.planType =='deluxe'" style="height: 300.875px; margin-bottom: -20px;">
					        			<h1 style="color: #3dcad7 !important; font-weight: lighter;">Deluxe</h1>
					        			<br><br>
					        			<h3 style="font-weight: normal;">You have this plan!</h3>
					        		</div>
					        		<div ng-hide="user.planType =='deluxe'">
						        		<h1 style="color: #3dcad7 !important; font-weight: lighter;">Deluxe</h1>
						        		<p>Best Value!</p>
						        		<br>
						        		<h1 style="font-weight: normal;">$29</h1>
						        		<p>per month</p>
						        		<br>
						        		<p><strong>25,000</strong> Responses Monthly</p>
						        		<br>
						        		<!-- <p style="text-decoration: underline;">Question Analytics Included</p> -->
						        		<br><br>
						        		<a href="/#/order/deluxe" style="" class="order buy-btn">Super Size Me</a>
						        	</div>
					        	</div>
				        	</div>
				        </div>
					</div>
					<div class="sixteen columns omega">
						<div ng-show="adminView.state=='setup'">
						<div id="cmscontainer">
							<button class="three-columns alpha cms" ng-class="{active: adminView.state=='setup'}" ng-click="adminViewState('setup')">Self Start</button>
							<button class="three-columns alpha cms" ng-class="{active: adminView.state=='wordpress'}" ng-click="adminViewState('wordpress')">Wordpress</button>
							<button class="three-columns alpha cms" ng-class="{active: adminView.state=='share'}" ng-click="adminViewState('share')">Share This</button>
						</div>
							<div class="card-wrap info-wrap thirteen columns" id="steps">
								<!--<a href="" class="close right">Hide</a>-->
								<!-- step 1 -->
								<div class="title">Let's get started!</div>
								<br><br>
								<strong>Step 1</strong>
								<p>Copy and paste the following code directly before the closing body tag of your site.</p>

								<textarea readonly class="topcoat-textarea code-provider active" rows="3" cols="" placeholder=""><!-- UserBallot: Add this before the closing body tag  --><script type="text/javascript">var $ub = window.$ub || {};$ub.siteId = '{{site.id}}';</script><script src="http://app.userballot.com/client.js"></script></textarea>
								<br><br>
								<!-- step 2 -->
								<br>
								<strong>Step 2</strong>
								<p>Create your first question using your Control Center!</p>
								<br>
								<strong>A few things to remember.</strong>
								<p>Make sure you ask simple yes or no questions and keep them short (99 characters or less).</p>
								<p>Questions are shown to a visitor only once.</p>
								<p>Only questions that are set to <span style="color:#2ecc71;font-weight:bold;">active</span> will be shown to your visitors.</p>
								<br>
								<p><a ng-click="adminViewState('questions')" href="" class="close">Click here</a> when you are ready to start asking questions!</p>
							</div>
						</div>
						<div ng-show="adminView.state=='wordpress'">
							<div id="cmscontainer">
								<button class="three-columns alpha cms" ng-class="{active: adminView.state=='setup'}" ng-click="adminViewState('setup')">Self Start</button>
								<button class="three-columns alpha cms" ng-class="{active: adminView.state=='wordpress'}" ng-click="adminViewState('wordpress')">Wordpress</button>
								<button class="three-columns alpha cms" ng-class="{active: adminView.state=='share'}" ng-click="adminViewState('share')">Share This</button>
							</div>
							<div class="card-wrap info-wrap thirteen columns" id="steps">
								<!--<a href="" class="close right">Hide</a>-->
								<!-- step 1 -->
								<div class="title">Activate your Wordpress plugin!</div>
								<br><br>
								<strong>Step 1</strong>
								<p>Activate the plugin in your WordPress admin panel.</p>
								<br>
								<strong>Step 2</strong>
								<br>
								<p><span>Copy your UserBallot site ID:</span>&nbsp&nbsp<span><input style="border: 1px solid #a1a1a1; width: 150px; border-radius: 3px;" readonly type="text" value="{{site.id}}"></span></p>
								<br>
								<strong>Step 3</strong>
								<br>
								<p>Go to the UserBallot for WordPress configuration page in your Wordpress admin panel, and save your site ID.</p>
								<br>
								<strong>Step 4</strong>
								<br>
								<p>Create your first question using your Control Center!</p>
								<br>
								<strong>A few things to remember.</strong>
								<p>Make sure you ask simple yes or no questions and keep them short (99 characters or less).</p>
								<p>Questions are shown to a visitor only once.</p>
								<p>Only questions that are set to <span style="color:#2ecc71;font-weight:bold;">active</span> will be shown to your visitors.</p>
								<br>
								<p><a ng-click="adminViewState('questions')" href="" class="close">Click here</a> when you are ready to start asking questions!</p>
							</div>
						</div>
						<div ng-show="adminView.state=='share'">
							<div id="cmscontainer">
								<button class="three-columns alpha cms" ng-class="{active: adminView.state=='setup'}" ng-click="adminViewState('setup')">Self Start</button>
								<button class="three-columns alpha cms" ng-class="{active: adminView.state=='wordpress'}" ng-click="adminViewState('wordpress')">Wordpress</button>
								<button class="three-columns alpha cms" ng-class="{active: adminView.state=='share'}" ng-click="adminViewState('share')">Share This</button>
							</div>
							<div class="card-wrap info-wrap thirteen columns" id="steps">
								<div class="title">Email your developer!</div>
								<br><br>
								<strong>Step 1</strong>
								<p>Copy and paste this code into an email to your webmaster or developer. They will know what to do!</p>
								<textarea readonly class="topcoat-textarea code-provider active" rows="3" cols="" placeholder=""><!-- UserBallot: Add this before the closing body tag  --><script type	="text/javascript">var $ub = window.$ub || {};$ub.siteId = '{{site.id}}';</script><script src="http://app.userballot.com/client.js"></script></textarea>
  								<br><br>
								<!-- step 2 -->
								<br>
								<strong>Step 2</strong>
								<p>Create your first question using your Control Center!</p>
 								<br>
 								<strong>A few things to remember.</strong>
 								<p>Make sure you ask simple yes or no questions and keep them short (99 characters or less).</p>
 								<p>Questions are shown to a visitor only once.</p>
 								<p>Only questions that are set to <span style="color:#2ecc71;font-weight:bold;">active</span> will be shown to your visitors.</p>
 								<br>
 							</div>
 						</div>

						<div style="margin-left: 0;" id="settingsBlock" ng-show="adminView.state=='settings'">
							<div class="card-wrap info-wrap thirteen columns settings2">
								<div class="title">Site Settings</div>
								<br>
								<div class="line-item">
									<p>What color would you like to use in your UserBallots?</p>
									<input style="margin-left: 15px;" type='color' id="customColor" value="{{site.hue}}" ng-model="site.hue" />
 									<input spellcheck="false" type="text" value="{{site.hue}}" ng-model="site.hue"/>
								</div>
								<br>
								<div class="line-item">
									<p>What look would you like for your UserBallots?</p>
									<button class="topcoat-button--quiet" id="yes" ng-click="setShade('light')" ng:class="{active:site.shade=='light'}">Light</button>
									<button class="topcoat-button--quiet" ng-click="setShade('dark')" ng:class="{active: site.shade=='dark'}">Dark</button>
									<button class="topcoat-button--quiet" ng-click="setShade('vibrant')" ng:class="{active: site.shade=='vibrant'}">Vibrant</button>	
								</div>
								<br>
								<div class="line-item">
									<form name="sitesettings">
										<p>How many days between showing each question to a visitor?</p> 
										<input id="days" ng-model="site.frequency" maxlength="3" type="number" ngMinimum="0"/> days.
									</form>
								</div>	
								<br>
								<div class="line-item">
									<p>Allow people to mute questions, hiding all future questions from them?</p>
									<button class="topcoat-button--quiet" id="yes" ng-click="setAllowMute(true)" ng:class="{active: site.allowmute=='1'}">Yes</button>
									<button class="topcoat-button--quiet" ng-click="setAllowMute(false)" ng:class="{active: site.allowmute=='0'}">No</button>	
								</div>
								<br><br><br><br><br>
								<div class="title" style="margin 50px 0 !important;">Account Info</div>
								<br><br>
								<span style="margin-left: 15px;">{{user.firstName}}</span>&nbsp<span>{{user.lastName}}</span>
								<button class="topcoat-button--quiet" ng-click="editAcct($index)" ng:class="{active: site.editing}">Edit Name</button>
								<div class="question-wrap" ng-show="user.editing">
    								<input spellcheck="false" ng-minlength="1" ng-model="user.firstName" update-model-on-blur></input><input spellcheck="false" ng-minlength="1" ng-model="user.lastName" update-model-on-blur></input><button ng-click="noEditAcct()">Done</button>
								</div>
								<br><br>
								<span style="margin-left: 15px;">{{user.email}}</span>
								<button class="topcoat-button--quiet" ng-click="editAcct($index)" ng:class="{active: site.editing}">Edit Email</button>
								<div class="question-wrap" ng-show="site.editing">
    								<input spellcheck="false" ng-minlength="1" ng-model="user.email" update-model-on-blur></input><button ng-click="noEditAcct()">Done</button>
								</div>
							</div>
						</div>
						<div id="questionsBlock" ng-show="adminView.state=='questions'">
							<div id="ask" class="card-wrap ask-new-question" style="border-radius: 3px;">
								<!-- <h2 class="emphasis-heading">Add a new question</h2> -->
								<br>
								<div style="color: #fbfbfb; text-align:center;" class="emphasis-heading">Ask a new question!</div>
								<form ng-submit="submit()" ng-controller="AdminAreaCtrl" name="questionSubmitForm">
								<div class="charcount" ng-show="questionSubmitForm.text.$valid">{{question.length}} / 99</div>
								<div class="charcount-error" ng-show="questionSubmitForm.text.$error.maxlength">Question is too long!</div>
								<textarea class="topcoat-textarea ask-new-question-input" ng-model="question" name="text" rows="2" cols="" ng-maxlength="99" placeholder="Keep it simple and ask a yes or no question. (99 characters or less)" required style="margin-bottom:2.5%;"></textarea>
								<button class="newbutton" id="save-question" ng-disabled="questionSubmitForm.text.$invalid">Create</button>
								</form>
							</div>
							<div>
								<div id="questionsWrap">
									<div id="questions" class="section-header-med">Current Questions</div>
									<!-- <a href="#">active</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="#">draft</a> -->

									<!-- <div class="line-item card-wrap" ng:class="{true:'active', false:''}[message.active=='1']" ng-repeat="message in site.messages"> -->
									<div ng-repeat="message in site.messages | orderObjectBy:'position':true">
										<!-- <a class="three-columns alpha analytics activate_modal" name='first_window' ng-click="openAnalytics($index)">Analytics</a> -->
										<div class="line-item card-wrap">
                                            <div class="default">
    											<div class="timestamp">
	    											<span ng-show="message.startdate"><strong>Started:</strong> {{message.startdate | date:'mediumDate'}}&nbsp;&nbsp;&nbsp;&nbsp;</span>
    												<span ng-show="message.enddate"><strong>Ended:</strong> {{message.enddate | date: 'mediumDate'}}&nbsp;&nbsp;&nbsp;&nbsp;</span>
    												<span ng-show="message.updated"><strong>Last Updated:</strong> {{message.updated | date:'medium'}}</span>
    											</div>

	    										<div class="left" style="margin-left:2.5%; padding-left:0.563rem;">
    												<button class="topcoat-button--quiet outline" ng-click="selectActive(message)" ng-class="{active: message.active}">Active</button>
    												<button class="topcoat-button--quiet outline" ng-click="selectDraft(message)" ng-class="{active: !message.active}">Draft</button>
    											</div>
	    										<div class="right" style="margin-right:2.5%;">
    												<button class="topcoat-button--quiet outline" ng-click="editMessage(message)">Edit</button>
    												<button class="topcoat-button--quiet delete outline" ng-click="removeMessage(message)">Delete</button>
    											</div>
			    								<br class="clear" /><br>
	        	    							<div class="header-small center">
    												<span id="yes-no">Question</span>
    											</div>
    											<div class="question-wrap" ng-hide="message.editing">
				    							{{message.text}}
    										   	<br><br><button disabled class="newbutton left hide" id="update-question">Update</button>
    											</div>
    											<br class="clear" />

    											<div class="editMessage left" ng-show="message.editing">
    												<textarea class="topcoat-textarea" name="text" rows="2" rows="2" cols="" ng-model="message.text" cols="60" ng-maxlength="99" update-model-on-blur>{{message.text}}</textarea><br><br>
    												<button class="newbutton" id="update-question" ng-click="updateMessage(message)">Update</button>

    											</div>
    											<!-- results -->
    											<br class="clear" />
											<div style="width: 100%; text-align: center;">
												<div class="header-small center" style="width: 175px; text-align: center; margin: auto; height: 15px;">
													<span class="vote">Yes</span>
													<span class="vote">No</span>
												</div>
											</div>
											<div class="results-wrap">
												<!-- <div class="line-item-results">
													<span class="result-label">Views:</span><span class="pill no views-{{message.id}}">{{message.views}}</span>
												</div>
												<div class="line-item-results" ng-show="site.allowmute=='1' && message.mute > 0">
													<span class="result-label">Muted:</span><span class="pill no mute-{{message.id}}">{{message.mute}}</span>
												</div>
												<div class="line-item-results">
													<span class="result-label">Yes:</span><span class="pill yes yes-{{message.id}}">{{message.yesVotes}}</span>
												</div>
												<div class="line-item-results">
													<span class="result-label">No:</span><span class="pill no no-{{message.id}}">{{message.noVotes}}</span>
												</div> -->
												<div style="text-align:center;">
													<div id="answer-display" style="background-image: url(img/pill.svg);">
														<div class="vote">
															<div class="pill yes yes-{{message.id}}">{{message.yesVotes}}</div>
														</div>
														<div class="vote">
															<div class="pill no no-{{message.id}}">{{message.noVotes}}</div>
														</div>
													
													</div>
												</div>
												<br class="clear" />
												<div class="reset">
													<button class="topcoat-button--quiet outline" style="margin-bottom:5px; " ng-click="resetMessageCount(message)">Reset</button>
												</div>
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
					<br class="clear" />
				</div>
			</div>
		</div> 
	</div>
	<div style="text-align: center;">
		<div ng-show="user.nearPlanLimit">
			<div class="tab-alert second-priority">
				<div ng-show="user.alertTab" class="full-tab-alert second-priority" style="padding-top: 10px;">
					<strong>You have gotten<span>{{user.voteCount}}</span>of your<span>{{user.planLimit}}</span>responses.</strong><br>
					<span> Upgrade now to get more feedback from your users!</span><br>
					<a ng-click="adminViewState('pricing')">Upgrade Now</a>
					<p style="font-size: 12px; cursor: pointer; float: right; margin-top: 40px; margin-right: 20px;" ng-click="alertTabClose()">close [x]</p>
				</div>
				<div ng-click="alertTab()" ng-hide="user.alertTab" style="cursor: pointer; padding: 10px 0;">
					<span>A</span>
					<span>L</span>
					<span>E</span>
					<span>R</span>
					<span>T</span>
				</div>
			</div>
		</div>
		<div ng-show="user.overPlanLimit">
			<div class="tab-alert first-priority">
				<div ng-show="user.alertTab" class="full-tab-alert first-priority" style="padding-top: 10px;">
					<strong>User feedback has been suspended.</strong> <br> 
					<span> Upgrade now to get more feedback from your users!</span><br>
					<a ng-click="adminViewState('pricing')">Upgrade Now</a>
					<p style="font-size: 12px; cursor: pointer; float: right; margin-top: 40px; margin-right: 20px;" ng-click="alertTabClose()">close [x]</p>
				</div>
				<div ng-click="alertTab()" ng-hide="user.alertTab" style="cursor: pointer; padding: 10px 0;">
					<span>A</span>
					<span>L</span>
					<span>E</span>
					<span>R</span>
					<span>T</span>
				</div>
			</div>
		</div>
	</div>
</div> 

